<!doctype html>
<html>
<head>


<title>Timemark Editor</title>
<meta charset="utf-8"/ >
<link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link href="https://restrechinamynd.github.io/timemark.css" rel="stylesheet">
<script src="https://restrechinamynd.github.io/child-animation.js"></script>    
<style>
*{
overflow:auto
outline-color:#A6FFFF;
}
#content{
outline:none;
}
#content:hover{	
box-shadow: 0 0 18px 0 rgba(166, 255, 255, 1);
}
botton:hover{
background:#888;
}
</style>
</head>
<body>



  
  <div id="content" contenteditable="true" onkeyup="timemark()" style="padding:2rem;background:#444;color:#F4F4F4;position:fixed;left:0;right:50%;height:100%">
<h2>Example</h2>
- 标题
# 一级标题 
## 二级标题

- **分割线**
---

- 重点


【重点】

- **特殊**

（特殊）

「插入」｛插入内容，选填。｝

“强调”


- 链接

https://restrechinamynd.github.io/all.css


- 参考

- https://restrechinamynd.github.io/timepalse
-  https://restrechinamynd.github.io/new
- https://restrechinamynd.github.io/all.cs

</div>


<div id="output" style="padding:2rem;left:50%;font-size:2.4rem;background:#F7F8FA;position:fixed;right:0;height:100%">
<h2>Pre</h2>
</div>




<button style="position:fixed;left:35%;right:35%;width:30%;height:80px;z-index:1;border:none;background:white;border-radius:0 0 20px 20px;	-webkit-box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.3);-moz-box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.3);box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.3);font-size :2.4rem;color:#333;font-family:serif;" onclick="getCode()">code</button>


<textarea id="code" style="opacity:0;position:fixed;top:100%;z-index:1">
</textarea>

<script>
function getCode(){
var code = document.getElementById("code");
var e = document.getElementById("output").innerHTML;
code.innerText = e.replace(new RegExp('contenteditable="true"', "g"), '');
code.select();
document.execCommand("Copy");
} 
</script>


  
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>    
<script>
var t = document.getElementById("content").innerHTML;
document.getElementById("content").innerHTML=t
//代码
.replace(new RegExp('“' , "g"), '<textarea>')
.replace(new RegExp('”' , "g"), '</textarea>')
.replace(new RegExp('‘' , "g"), '<blockquote>')
.replace(new RegExp('’' , "g"), '</blockquote>')
//分割线
.replace(new RegExp('---' , "g"), '<hr>')
//分点
.replace(new RegExp('‹' , "g"), '<div style="display:flex;margin:4rem 0;"><div style="background-color: rgb(31, 73, 125); color: rgb(255, 255, 255);padding:0rem 1.4rem;margin:0.5rem 2rem 0.5rem 0;height:4rem;width:auto;line-height:4rem;align-items:center;font-size:2.4rem;">')
.replace(new RegExp('›' , "g"),'</div>')
.replace(new RegExp('«' , "g"), '<div style="color: rgb(51,51, 51);font-size:3rem;">')
.replace(new RegExp('»' , "g"), '</div></div>')
//强调
.replace(new RegExp('【' , "g"), '<l>')
.replace(new RegExp('】' , "g"), '</l>')
//特殊
.replace(new RegExp('！（' , "g"), '<span style="color:rgba(199,77,70,100%);">')
.replace(new RegExp('）' , "g"), '</span>')
.replace(new RegExp('（' , "g"), '<n>')
.replace(new RegExp('）' , "g"), '</n>')
//dfn
.replace(new RegExp('「' , "g"), '<dfn>')
.replace(new RegExp('」' , "g"), '<note>')
.replace(new RegExp('｛' , "g"), '')
.replace(new RegExp('｝' , "g"), '</note></dfn>')
//文献
.replace(new RegExp('〔' , "g"), '<dfn class="reference-index"><span>')
.replace(new RegExp('〕' , "g"),'</span></dfn>');

function timemark(){
var t = document.getElementById("content").innerHTML;
document.getElementById("output").innerHTML=t
//代码
.replace(new RegExp('“' , "g"), '<textarea>')
.replace(new RegExp('”' , "g"), '</textarea>')
.replace(new RegExp('‘' , "g"), '<blockquote>')
.replace(new RegExp('’' , "g"), '</blockquote>')
//分割线
.replace(new RegExp('---' , "g"), '<hr>')
//分点
.replace(new RegExp('‹' , "g"), '<div style="display:flex;margin:4rem 0;"><div style="background-color: rgb(31, 73, 125); color: rgb(255, 255, 255);padding:0rem 1.4rem;margin:0.5rem 2rem 0.5rem 0;height:4rem;width:auto;line-height:4rem;align-items:center;font-size:2.4rem;">')
.replace(new RegExp('›' , "g"),'</div>')
.replace(new RegExp('«' , "g"), '<div style="color: rgb(51,51, 51);font-size:3rem;">')
.replace(new RegExp('»' , "g"), '</div></div>')
//强调
.replace(new RegExp('【' , "g"), '<l>')
.replace(new RegExp('】' , "g"), '</l>')
//特殊
.replace(new RegExp('！（' , "g"), '<span style="color:rgba(199,77,70,100%);">')
.replace(new RegExp('）' , "g"), '</span>')
.replace(new RegExp('（' , "g"), '<n>')
.replace(new RegExp('）' , "g"), '</n>')
//dfn
.replace(new RegExp('「' , "g"), '<dfn>')
.replace(new RegExp('」' , "g"), '<note>')
.replace(new RegExp('｛' , "g"), '')
.replace(new RegExp('｝' , "g"), '</note></dfn>')
//文献
.replace(new RegExp('〔' , "g"), '<dfn class="reference-index"><span>')
.replace(new RegExp('〕' , "g"),'</span></dfn>');

var t = document.body.innerHTML;
document.body.innerHTML=marked(t);
}
</script>

	




</body>
</html>
